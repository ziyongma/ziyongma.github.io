document.addEventListener("DOMContentLoaded",(function(){let e="all";const l=l=>{e=l,document.querySelectorAll(".bib-tag-btn").forEach((e=>{e.dataset.tag===l?e.classList.add("active"):e.classList.remove("active")})),document.querySelectorAll(".bibliography > li").forEach((e=>{const t=e.querySelector(".row");if(!t)return;const a=t.dataset.tags||"";if("all"===l)e.classList.remove("unloaded");else{a.split(",").map((e=>e.trim().toLowerCase())).includes(l.toLowerCase())?e.classList.remove("unloaded"):e.classList.add("unloaded")}})),document.querySelectorAll("h2.bibliography").forEach((function(e){let l=e.nextElementSibling,t=!0;for(;l&&"H2"!==l.tagName;){if("OL"===l.tagName){const e=l,a=e.querySelectorAll(":scope > li.unloaded"),o=e.querySelectorAll(":scope > li");a.length===o.length?(e.previousElementSibling?.classList.add("unloaded"),e.classList.add("unloaded")):(t=!1,e.previousElementSibling?.classList.remove("unloaded"),e.classList.remove("unloaded"))}l=l.nextElementSibling}t?e.classList.add("unloaded"):e.classList.remove("unloaded")})),document.querySelectorAll("h3.bibliography").forEach((function(e){let l=e.nextElementSibling,t=!1;for(;l&&"H3"!==l.tagName&&"H2"!==l.tagName;){if("OL"===l.tagName){const e=l,a=e.querySelectorAll(":scope > li.unloaded"),o=e.querySelectorAll(":scope > li");a.length<o.length&&(t=!0)}l=l.nextElementSibling}t?e.classList.remove("unloaded"):e.classList.add("unloaded")}))};document.querySelectorAll(".bib-tag-btn").forEach((e=>{e.addEventListener("click",(function(){const e=this.dataset.tag;l(e)}))})),l("all")}));